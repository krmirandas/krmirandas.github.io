(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{74:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return i})),a.d(t,"toc",(function(){return c})),a.d(t,"Notice",(function(){return u})),a.d(t,"default",(function(){return p}));var n=a(3),l=a(7),b=(a(0),a(116)),r=(a(56),a(154)),o={id:"superadmin",title:"M\xe9todos de superadmin"},i={unversionedId:"superadmin",id:"superadmin",isDocsHomePage:!1,title:"M\xe9todos de superadmin",description:"import '../src/css/notices.css';",source:"@site/docs/superadmin.md",slug:"/superadmin",permalink:"/docs/superadmin",version:"current",sidebar:"someSidebar",previous:{title:"Metodos de Stripe",permalink:"/docs/stripe"},next:{title:"M\xe9todos de abogado",permalink:"/docs/abogado"}},c=[{value:"<code>[GET]</code> Obtener usuarios de l\xednea legal",id:"get-obtener-usuarios-de-l\xednea-legal",children:[{value:"Flujo exitoso",id:"flujo-exitoso",children:[]}]},{value:"<code>[POST]</code> Crear administrador",id:"post-crear-administrador",children:[{value:"Flujo Exitoso",id:"flujo-exitoso-1",children:[]}]},{value:"<code>[GET]</code> Ver personal",id:"get-ver-personal",children:[{value:"Flujo Exitoso",id:"flujo-exitoso-2",children:[]}]},{value:"<code>[DELETE]</code> Eliminar usuario administrativo",id:"delete-eliminar-usuario-administrativo",children:[{value:"Flujo Exitoso",id:"flujo-exitoso-3",children:[]}]},{value:"<code>[PUT]</code> Editar usuario administrativo",id:"put-editar-usuario-administrativo",children:[{value:"Flujo Exitoso",id:"flujo-exitoso-4",children:[]}]}],u=function(e){var t=e.children,a=e.type,n=e.title;return Object(b.b)("div",{class:"notice "+a},Object(b.b)("p",null,Object(b.b)("span",{class:"span-notice"},Object(b.b)(r.a,{mdxType:"CgDanger"})," ",n)),t)},d={toc:c,Notice:u};function p(e){var t=e.components,a=Object(l.a)(e,["components"]);return Object(b.b)("wrapper",Object(n.a)({},d,a,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h2",{id:"get-obtener-usuarios-de-l\xednea-legal"},Object(b.b)("inlineCode",{parentName:"h2"},"[GET]")," Obtener usuarios de l\xednea legal"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},Object(b.b)("inlineCode",{parentName:"p"},"/api/superadmin/users"))),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Authorization: Superadmin")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Content-Type: : application/json")),Object(b.b)("p",null,"Permite obtener los usuarios registrados en l\xednea legal, ordenados por fecha de registro. Es posible filtrarlos por estado, nombre o correo."),Object(b.b)("p",null,"Este m\xe9todo acepta las siguientes consultas:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Campo"),Object(b.b)("th",{parentName:"tr",align:null},"Tipo de dato"),Object(b.b)("th",{parentName:"tr",align:null},"Significado"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"limit"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"integer")),Object(b.b)("td",{parentName:"tr",align:null},"N\xfamero de resultados a traer a partir del offset, 25 por defecto.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"offset"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"integer")),Object(b.b)("td",{parentName:"tr",align:null},"N\xfamero de resultados a partir del cual se devolver\xe1n al usuario que realiza la petici\xf3n, 0 por defecto.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"status"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",{parentName:"tr",align:null},"Estado de los usuarios, puede ser active o inactive.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"name"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",{parentName:"tr",align:null},"Cadena sobre la cual se obtendr\xe1n los usuarios cuyo nombre coincida.")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"email"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",{parentName:"tr",align:null},"Cadena sobre la cual se obtendr\xe1n los usuarios cuyo correo coincida.")))),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Response: 200 Ok")),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-javascript"},'\n{\n  "pagination": {\n    "offset": 0,\n    "limit": 100,\n    "count": 4\n  },\n  "users": [\n    {\n      "id": "8587575a567",\n      "name": "Kevin Ricardo",\n      "email": "kevin@miranda.com",\n      "plan": "Basico",\n      "lastPaymentAt": "2112-11-14T17:51:24.436Z",\n      "status": "active"\n    },\n    ...\n  ]\n}\n')),Object(b.b)("h3",{id:"flujo-exitoso"},"Flujo exitoso"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},"Obtiene a los usuarios de l\xednea legal, aplicando los filtros y la paginaci\xf3n necesaria.")),Object(b.b)("h2",{id:"post-crear-administrador"},Object(b.b)("inlineCode",{parentName:"h2"},"[POST]")," Crear administrador"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},Object(b.b)("inlineCode",{parentName:"p"},"/api/superadmin"))),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Authorization: Superadmin")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Content-Type: application/json")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Request")),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-javascript"},'{\n  "fullName": "Francisco Javier Marquez",\n  "email": "alyavasa@example.com"\n}\n')),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Response: 201 Created")),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-javascript"},'{\n  "superadmin": {\n    "_id": "5c86ec24eb1b692e049cb918",\n    "fullName": "Francisco Javier Marquez",\n    "email": "alyavasa@example.com"\n  }\n}\n')),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Atributo"),Object(b.b)("th",{parentName:"tr",align:null},"Validaciones"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"fullName"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"string"),", ",Object(b.b)("inlineCode",{parentName:"td"},"min:3"),", ",Object(b.b)("inlineCode",{parentName:"td"},"max:150"),", ",Object(b.b)("inlineCode",{parentName:"td"},"required"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"email"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"string"),", ",Object(b.b)("inlineCode",{parentName:"td"},"email"),", ",Object(b.b)("inlineCode",{parentName:"td"},"required"))))),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Validaciones"),Object(b.b)("th",{parentName:"tr",align:null},"C\xf3digo de respuesta"),Object(b.b)("th",{parentName:"tr",align:null},"C\xf3digo de mensaje"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Si el correo ya est\xe1 registrado como usuario (cualquier modalidad)"),Object(b.b)("td",{parentName:"tr",align:null},"409"),Object(b.b)("td",{parentName:"tr",align:null},"email_in_use")))),Object(b.b)("h3",{id:"flujo-exitoso-1"},"Flujo Exitoso"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},"Se crea un objeto ",Object(b.b)("strong",{parentName:"li"},"PlatformAdmin")," con la informaci\xf3n recibida."),Object(b.b)("li",{parentName:"ol"},"Se crea el usuario en firebase con reclamaciones de superadmin."),Object(b.b)("li",{parentName:"ol"},"Se env\xeda un correo de bienvenida al usuario reci\xe9n registrado con el cual podr\xe1 establecer su contrase\xf1a.")),Object(b.b)("h2",{id:"get-ver-personal"},Object(b.b)("inlineCode",{parentName:"h2"},"[GET]")," Ver personal"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},Object(b.b)("inlineCode",{parentName:"p"},"/api/superadmin"))),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Authorization: Superadmin")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Content-Type: application/json")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Request")),Object(b.b)("p",null,"Permite ver a todo el personal administrativo de l\xednea legal."),Object(b.b)("p",null,"Este m\xe9todo acepta las siguientes consultas:"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Campo"),Object(b.b)("th",{parentName:"tr",align:null},"Tipo de dato"),Object(b.b)("th",{parentName:"tr",align:null},"Significado"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"name"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",{parentName:"tr",align:null},"Cadena sobre la cual se buscaran coincidencias con los nombres de los usuarios administradores")))),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Response: 200 Ok")),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-javascript"},'{\n  "superadmins": [\n    {\n      "_id": "5c86ec24eb1b692e049cb918",\n      "fullName": "Francisco Javier Marquez",\n      "email": "alyavasa@example.com"\n    },\n    ...\n  ]\n}\n')),Object(b.b)("h3",{id:"flujo-exitoso-2"},"Flujo Exitoso"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},"Se obtiene todo el personal administrativo de linea legal.")),Object(b.b)("h2",{id:"delete-eliminar-usuario-administrativo"},Object(b.b)("inlineCode",{parentName:"h2"},"[DELETE]")," Eliminar usuario administrativo"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},Object(b.b)("inlineCode",{parentName:"p"},"/api/superadmin/:id"))),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Authorization: Superadmin")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Content-Type: application/json")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Request")),Object(b.b)("p",null,"Esta ruta permite eliminar un usuario administrativo."),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Response: 204 No Content")),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Validaciones"),Object(b.b)("th",{parentName:"tr",align:null},"C\xf3digo de respuesta"),Object(b.b)("th",{parentName:"tr",align:null},"C\xf3digo de mensaje"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Si el usuario no se encuentra"),Object(b.b)("td",{parentName:"tr",align:null},"404"),Object(b.b)("td",{parentName:"tr",align:null},"not_found_superadmin")))),Object(b.b)("h3",{id:"flujo-exitoso-3"},"Flujo Exitoso"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},"Busca el usuario por id."),Object(b.b)("li",{parentName:"ol"},"Elimina el usuario de firebase y posteriormente de la base de datos.")),Object(b.b)("h2",{id:"put-editar-usuario-administrativo"},Object(b.b)("inlineCode",{parentName:"h2"},"[PUT]")," Editar usuario administrativo"),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},Object(b.b)("inlineCode",{parentName:"p"},"/api/superadmin/:id"))),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Authorization: Superadmin")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Content-Type: application/json")),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Request")),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-javascript"},'{\n  "fullName": "Francisco",\n  "email": "alyavasa@example.com"\n}\n')),Object(b.b)("p",null,"Esta ruta permite actualizar el nombre y correo del usuario administrativo."),Object(b.b)("blockquote",null,Object(b.b)("p",{parentName:"blockquote"},"Response: 200 Ok")),Object(b.b)("pre",null,Object(b.b)("code",{parentName:"pre",className:"language-javascript"},'{\n  "superadmin": {\n    "_id": "5c86ec24eb1b692e049cb918",\n    "fullName": "Francisco Javier Marquez",\n    "email": "alyavasa@example.com"\n  }\n}\n')),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Atributo"),Object(b.b)("th",{parentName:"tr",align:null},"Validaciones"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"fullName"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"string"),", ",Object(b.b)("inlineCode",{parentName:"td"},"min:3"),", ",Object(b.b)("inlineCode",{parentName:"td"},"max:150"))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"email"),Object(b.b)("td",{parentName:"tr",align:null},Object(b.b)("inlineCode",{parentName:"td"},"string"),", ",Object(b.b)("inlineCode",{parentName:"td"},"email"))))),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",{parentName:"tr",align:null},"Validaciones"),Object(b.b)("th",{parentName:"tr",align:null},"C\xf3digo de respuesta"),Object(b.b)("th",{parentName:"tr",align:null},"C\xf3digo de mensaje"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Si el admin no se encuentra"),Object(b.b)("td",{parentName:"tr",align:null},"404"),Object(b.b)("td",{parentName:"tr",align:null},"admin_not_found")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",{parentName:"tr",align:null},"Si se actualiza el correo y ya est\xe1 en uso"),Object(b.b)("td",{parentName:"tr",align:null},"409"),Object(b.b)("td",{parentName:"tr",align:null},"email_in_use")))),Object(b.b)("h3",{id:"flujo-exitoso-4"},"Flujo Exitoso"),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},"Se busca el personal por id."),Object(b.b)("li",{parentName:"ol"},"Se actualiza la informaci\xf3n del usuario."),Object(b.b)("li",{parentName:"ol"},"Si se actualizo el correo, se realiza el cambio en firebase y se env\xeda el correo de confirmaci\xf3n.")))}p.isMDXComponent=!0}}]);