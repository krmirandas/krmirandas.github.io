"use strict";(self.webpackChunklinea_legal_specs=self.webpackChunklinea_legal_specs||[]).push([[8160],{4770:(e,t,a)=>{a.r(t),a.d(t,{Notice:()=>s,assets:()=>d,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>u,toc:()=>p});var n=a(7462),l=(a(7294),a(3905)),r=a(1528);const o={id:"superadmin",title:"M\xe9todos de superadmin"},i=void 0,u={unversionedId:"superadmin",id:"superadmin",title:"M\xe9todos de superadmin",description:"[GET] Obtener usuarios de l\xednea legal",source:"@site/docs/superadmin.md",sourceDirName:".",slug:"/superadmin",permalink:"/docs/superadmin",draft:!1,tags:[],version:"current",frontMatter:{id:"superadmin",title:"M\xe9todos de superadmin"},sidebar:"someSidebar",previous:{title:"Metodos de Pago",permalink:"/docs/stripe"},next:{title:"M\xe9todos de abogado",permalink:"/docs/abogado"}},d={},p=[{value:"<code>[GET]</code> Obtener usuarios de l\xednea legal",id:"get-obtener-usuarios-de-l\xednea-legal",level:2},{value:"Flujo exitoso",id:"flujo-exitoso",level:3},{value:"<code>[POST]</code> Crear administrador",id:"post-crear-administrador",level:2},{value:"Flujo Exitoso",id:"flujo-exitoso-1",level:3},{value:"<code>[GET]</code> Ver personal",id:"get-ver-personal",level:2},{value:"Flujo Exitoso",id:"flujo-exitoso-2",level:3},{value:"<code>[DELETE]</code> Eliminar usuario administrativo",id:"delete-eliminar-usuario-administrativo",level:2},{value:"Flujo Exitoso",id:"flujo-exitoso-3",level:3},{value:"<code>[PUT]</code> Editar usuario administrativo",id:"put-editar-usuario-administrativo",level:2},{value:"Flujo Exitoso",id:"flujo-exitoso-4",level:3}],s=e=>{let{children:t,type:a,title:n}=e;return(0,l.kt)("div",{class:`notice ${a}`},(0,l.kt)("p",null,(0,l.kt)("span",{class:"span-notice"},(0,l.kt)(r.UMi,{mdxType:"CgDanger"})," ",n)),t)},m={toc:p,Notice:s},k="wrapper";function c(e){let{components:t,...a}=e;return(0,l.kt)(k,(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"get-obtener-usuarios-de-l\xednea-legal"},(0,l.kt)("inlineCode",{parentName:"h2"},"[GET]")," Obtener usuarios de l\xednea legal"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"/api/superadmin/users"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Authorization: Superadmin")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Content-Type: : application/json")),(0,l.kt)("p",null,"Permite obtener los usuarios registrados en l\xednea legal, ordenados por fecha de registro. Es posible filtrarlos por estado, nombre o correo."),(0,l.kt)("p",null,"Este m\xe9todo acepta las siguientes consultas:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Campo"),(0,l.kt)("th",{parentName:"tr",align:null},"Tipo de dato"),(0,l.kt)("th",{parentName:"tr",align:null},"Significado"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"limit"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"integer")),(0,l.kt)("td",{parentName:"tr",align:null},"N\xfamero de resultados a traer a partir del offset, 25 por defecto.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"offset"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"integer")),(0,l.kt)("td",{parentName:"tr",align:null},"N\xfamero de resultados a partir del cual se devolver\xe1n al usuario que realiza la petici\xf3n, 0 por defecto.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"status"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Estado de los usuarios, puede ser active o inactive.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"name"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Cadena sobre la cual se obtendr\xe1n los usuarios cuyo nombre coincida.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"email"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Cadena sobre la cual se obtendr\xe1n los usuarios cuyo correo coincida.")))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Response: 200 Ok")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'\n{\n  "pagination": {\n    "offset": 0,\n    "limit": 100,\n    "count": 4\n  },\n  "users": [\n    {\n      "id": "8587575a567",\n      "name": "Kevin Ricardo",\n      "email": "kevin@miranda.com",\n      "plan": "Basico",\n      "lastPaymentAt": "2112-11-14T17:51:24.436Z",\n      "status": "active"\n    },\n    ...\n  ]\n}\n')),(0,l.kt)("h3",{id:"flujo-exitoso"},"Flujo exitoso"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Obtiene a los usuarios de l\xednea legal, aplicando los filtros y la paginaci\xf3n necesaria.")),(0,l.kt)("h2",{id:"post-crear-administrador"},(0,l.kt)("inlineCode",{parentName:"h2"},"[POST]")," Crear administrador"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"/api/superadmin"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Authorization: Superadmin")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Content-Type: application/json")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Request")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  "fullName": "Francisco Javier Marquez",\n  "email": "alyavasa@example.com"\n}\n')),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Response: 201 Created")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  "superadmin": {\n    "_id": "5c86ec24eb1b692e049cb918",\n    "fullName": "Francisco Javier Marquez",\n    "email": "alyavasa@example.com"\n  }\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Atributo"),(0,l.kt)("th",{parentName:"tr",align:null},"Validaciones"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"fullName"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"min:3"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"max:150"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"required"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"email"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"email"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"required"))))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Validaciones"),(0,l.kt)("th",{parentName:"tr",align:null},"C\xf3digo de respuesta"),(0,l.kt)("th",{parentName:"tr",align:null},"C\xf3digo de mensaje"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Si el correo ya est\xe1 registrado como usuario (cualquier modalidad)"),(0,l.kt)("td",{parentName:"tr",align:null},"409"),(0,l.kt)("td",{parentName:"tr",align:null},"email_in_use")))),(0,l.kt)("h3",{id:"flujo-exitoso-1"},"Flujo Exitoso"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Se crea un objeto ",(0,l.kt)("strong",{parentName:"li"},"PlatformAdmin")," con la informaci\xf3n recibida."),(0,l.kt)("li",{parentName:"ol"},"Se crea el usuario en firebase con reclamaciones de superadmin."),(0,l.kt)("li",{parentName:"ol"},"Se env\xeda un correo de bienvenida al usuario reci\xe9n registrado con el cual podr\xe1 establecer su contrase\xf1a.")),(0,l.kt)("h2",{id:"get-ver-personal"},(0,l.kt)("inlineCode",{parentName:"h2"},"[GET]")," Ver personal"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"/api/superadmin"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Authorization: Superadmin")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Content-Type: application/json")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Request")),(0,l.kt)("p",null,"Permite ver a todo el personal administrativo de l\xednea legal."),(0,l.kt)("p",null,"Este m\xe9todo acepta las siguientes consultas:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Campo"),(0,l.kt)("th",{parentName:"tr",align:null},"Tipo de dato"),(0,l.kt)("th",{parentName:"tr",align:null},"Significado"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"name"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string")),(0,l.kt)("td",{parentName:"tr",align:null},"Cadena sobre la cual se buscaran coincidencias con los nombres de los usuarios administradores")))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Response: 200 Ok")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  "superadmins": [\n    {\n      "_id": "5c86ec24eb1b692e049cb918",\n      "fullName": "Francisco Javier Marquez",\n      "email": "alyavasa@example.com"\n    },\n    ...\n  ]\n}\n')),(0,l.kt)("h3",{id:"flujo-exitoso-2"},"Flujo Exitoso"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Se obtiene todo el personal administrativo de linea legal.")),(0,l.kt)("h2",{id:"delete-eliminar-usuario-administrativo"},(0,l.kt)("inlineCode",{parentName:"h2"},"[DELETE]")," Eliminar usuario administrativo"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"/api/superadmin/:id"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Authorization: Superadmin")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Content-Type: application/json")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Request")),(0,l.kt)("p",null,"Esta ruta permite eliminar un usuario administrativo."),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Response: 204 No Content")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Validaciones"),(0,l.kt)("th",{parentName:"tr",align:null},"C\xf3digo de respuesta"),(0,l.kt)("th",{parentName:"tr",align:null},"C\xf3digo de mensaje"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Si el usuario no se encuentra"),(0,l.kt)("td",{parentName:"tr",align:null},"404"),(0,l.kt)("td",{parentName:"tr",align:null},"not_found_superadmin")))),(0,l.kt)("h3",{id:"flujo-exitoso-3"},"Flujo Exitoso"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Busca el usuario por id."),(0,l.kt)("li",{parentName:"ol"},"Elimina el usuario de firebase y posteriormente de la base de datos.")),(0,l.kt)("h2",{id:"put-editar-usuario-administrativo"},(0,l.kt)("inlineCode",{parentName:"h2"},"[PUT]")," Editar usuario administrativo"),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},(0,l.kt)("inlineCode",{parentName:"p"},"/api/superadmin/:id"))),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Authorization: Superadmin")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Content-Type: application/json")),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Request")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  "fullName": "Francisco",\n  "email": "alyavasa@example.com"\n}\n')),(0,l.kt)("p",null,"Esta ruta permite actualizar el nombre y correo del usuario administrativo."),(0,l.kt)("blockquote",null,(0,l.kt)("p",{parentName:"blockquote"},"Response: 200 Ok")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-javascript"},'{\n  "superadmin": {\n    "_id": "5c86ec24eb1b692e049cb918",\n    "fullName": "Francisco Javier Marquez",\n    "email": "alyavasa@example.com"\n  }\n}\n')),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Atributo"),(0,l.kt)("th",{parentName:"tr",align:null},"Validaciones"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"fullName"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"min:3"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"max:150"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"email"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"string"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"email"))))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Validaciones"),(0,l.kt)("th",{parentName:"tr",align:null},"C\xf3digo de respuesta"),(0,l.kt)("th",{parentName:"tr",align:null},"C\xf3digo de mensaje"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Si el admin no se encuentra"),(0,l.kt)("td",{parentName:"tr",align:null},"404"),(0,l.kt)("td",{parentName:"tr",align:null},"admin_not_found")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"Si se actualiza el correo y ya est\xe1 en uso"),(0,l.kt)("td",{parentName:"tr",align:null},"409"),(0,l.kt)("td",{parentName:"tr",align:null},"email_in_use")))),(0,l.kt)("h3",{id:"flujo-exitoso-4"},"Flujo Exitoso"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"Se busca el personal por id."),(0,l.kt)("li",{parentName:"ol"},"Se actualiza la informaci\xf3n del usuario."),(0,l.kt)("li",{parentName:"ol"},"Si se actualizo el correo, se realiza el cambio en firebase y se env\xeda el correo de confirmaci\xf3n.")))}c.isMDXComponent=!0}}]);